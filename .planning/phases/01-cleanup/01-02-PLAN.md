---
phase: 01-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/hooks/lint-ansible.sh
  - .claude/hooks/format-code.sh
  - .claude/rules/ansible.md
  - .claude/rules/tests.md
  - .claude/agents/reviewer.md
  - .claude/commands/add-tool.md
  - .claude/commands/explore-features.md
  - .claude/settings.json
  - .claude/settings.local.json
autonomous: true

must_haves:
  truths:
    - ".claude/hooks/ is empty or does not exist"
    - ".claude/rules/ is empty or does not exist"
    - ".claude/agents/ is empty or does not exist"
    - ".claude/commands/ is empty or does not exist"
    - ".claude/settings.json does not exist"
    - ".claude/settings.local.json does not exist"
    - ".claude/ directory exists but is empty (placeholder for future)"
  artifacts:
    - path: ".claude/.gitkeep"
      provides: "Placeholder to preserve empty directory in git"
  key_links: []
---

<objective>
Remove legacy Claude configurations from repo-level .claude/ directory in _dotfiles

Purpose: Clean up repo-specific configs that are no longer used, leaving empty scaffold for future work
Output: Empty .claude/ directory with only .gitkeep placeholder
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove all repo-level .claude/ contents</name>
  <files>
    .claude/hooks/lint-ansible.sh
    .claude/hooks/format-code.sh
    .claude/rules/ansible.md
    .claude/rules/tests.md
    .claude/agents/reviewer.md
    .claude/commands/add-tool.md
    .claude/commands/explore-features.md
    .claude/settings.json
    .claude/settings.local.json
  </files>
  <action>
    Remove all contents from the repo-level .claude/ directory:

    1. Remove hooks:
       - `.claude/hooks/lint-ansible.sh`
       - `.claude/hooks/format-code.sh`
       - Then remove empty `.claude/hooks/` directory

    2. Remove rules:
       - `.claude/rules/ansible.md`
       - `.claude/rules/tests.md`
       - Then remove empty `.claude/rules/` directory

    3. Remove agents:
       - `.claude/agents/reviewer.md`
       - Then remove empty `.claude/agents/` directory

    4. Remove commands:
       - `.claude/commands/add-tool.md`
       - `.claude/commands/explore-features.md`
       - Then remove empty `.claude/commands/` directory

    5. Remove settings files:
       - `.claude/settings.json`
       - `.claude/settings.local.json`

    Use `rm` for files and `rmdir` for directories (to confirm they're empty).

    Working directory: /home/matt/_dotfiles
  </action>
  <verify>
    Run from /home/matt/_dotfiles:
    ```bash
    # Verify all subdirectories removed
    ls .claude/hooks/ 2>&1 | grep -q "No such file" && echo "PASS: hooks removed"
    ls .claude/rules/ 2>&1 | grep -q "No such file" && echo "PASS: rules removed"
    ls .claude/agents/ 2>&1 | grep -q "No such file" && echo "PASS: agents removed"
    ls .claude/commands/ 2>&1 | grep -q "No such file" && echo "PASS: commands removed"

    # Verify settings files removed
    ls .claude/settings.json 2>&1 | grep -q "No such file" && echo "PASS: settings.json removed"
    ls .claude/settings.local.json 2>&1 | grep -q "No such file" && echo "PASS: settings.local.json removed"

    # Verify .claude/ directory is empty (or only has .gitkeep)
    ls -A .claude/
    ```
  </verify>
  <done>
    - .claude/hooks/ directory does not exist
    - .claude/rules/ directory does not exist
    - .claude/agents/ directory does not exist
    - .claude/commands/ directory does not exist
    - .claude/settings.json does not exist
    - .claude/settings.local.json does not exist
  </done>
</task>

<task type="auto">
  <name>Task 2: Create .gitkeep placeholder</name>
  <files>.claude/.gitkeep</files>
  <action>
    Create an empty `.gitkeep` file in `.claude/` directory to:
    1. Preserve the empty directory in git
    2. Signal that this is a placeholder for future repo-specific config

    Create file: `.claude/.gitkeep` (empty file)

    Then stage and commit all .claude/ changes:
    ```bash
    git add .claude/
    git commit -m "chore(01-cleanup): remove legacy repo-level claude configs

    Remove all repo-level .claude/ contents:
    - hooks/lint-ansible.sh, format-code.sh
    - rules/ansible.md, tests.md
    - agents/reviewer.md
    - commands/add-tool.md, explore-features.md
    - settings.json, settings.local.json

    Add .gitkeep placeholder for future work.

    Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>"
    ```
  </action>
  <verify>
    Run:
    ```bash
    # Verify .gitkeep exists
    ls .claude/.gitkeep && echo "PASS: .gitkeep exists"

    # Verify .claude/ only has .gitkeep
    [ "$(ls -A .claude/)" = ".gitkeep" ] && echo "PASS: only .gitkeep in .claude/" || echo "FAIL: extra files in .claude/"

    # Verify git status shows clean (changes committed)
    git status --porcelain .claude/
    ```
  </verify>
  <done>
    - .claude/.gitkeep exists (empty file)
    - .claude/ contains only .gitkeep
    - Changes committed to git
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. List .claude/ directory - should contain only: .gitkeep
2. Run `git log -1 --oneline` to see commit
3. Run `git status` to confirm clean working directory for .claude/
</verification>

<success_criteria>
Requirements satisfied:
- CLEAN-07: .claude/hooks/ contents removed (lint-ansible.sh, format-code.sh)
- CLEAN-08: .claude/rules/ contents removed (ansible.md, tests.md)
- CLEAN-09: .claude/agents/ contents removed (reviewer.md)
- CLEAN-10: .claude/commands/ contents removed (add-tool.md, explore-features.md)
- CLEAN-11: .claude/settings.json and settings.local.json removed
</success_criteria>

<output>
After completion, create `.planning/phases/01-cleanup/01-02-SUMMARY.md`
</output>
